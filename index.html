<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="词根字典">
    <title>词根字典</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="The Affix Root of Vocabulary/Tarov.css">
</head>
<body>
    <div class="app">
        <!-- 顶部导航 -->
        <nav class="nav">
            <button class="nav-btn active" data-tab="search">查词</button>
            <button class="nav-btn" data-tab="favorites">收藏夹</button>
        </nav>

        <!-- 查词页面 -->
        <div class="tab-content active" id="search">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="输入单词查询">
                <button id="searchBtn">查询</button>
                <button id="aiSettingsBtn" onclick="openApiSettings()" title="AI设置">🤖</button>
            </div>
            <div id="result" class="result empty">输入单词开始查询</div>
        </div>

        <!-- 收藏夹页面 -->
        <div class="tab-content" id="favorites">
            <div class="version-info">
                <span class="version-badge">v2.3</span>
                <span class="feature-badge">多源查询</span>
            </div>
            <div class="backup-buttons">
                <button id="exportBtn" onclick="exportFavorites()">导出收藏</button>
                <button id="importBtn" onclick="document.getElementById('importFile').click()">导入收藏</button>
                <input type="file" id="importFile" accept=".json" style="display:none" onchange="importFavorites(event)">
            </div>
            <div id="favoritesList" class="favorites-list"></div>
        </div>

    </div>

    <script src="mdict-parser.js"></script>
    <script src="ai_root_analyzer.js"></script>
    <script src="enhanced_root_analyzer_slim.js?v=3.1"></script>
    <script src="comprehensive_roots.js?v=2.3"></script>
    <script src="enhanced_api.js?v=2.3"></script>
    <script src="app.js?v=2.7"></script>
    
    <!-- API设置界面 -->
    <div id="apiSettingsContainer"></div>
    <script>
    // 加载API设置界面
    fetch('api_settings.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('apiSettingsContainer').innerHTML = html;
        })
        .catch(error => console.log('API设置界面加载失败:', error));
    </script>
</body>
</html>
